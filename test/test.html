<!DOCTYPE html>
<html>
<head>
  <title>Varying the Behavior Tests</title>
  <script type="application/dart" src="bin/runtests.dart"></script>

  <script type="text/javascript">
    // start dart
    //navigator.webkitStartDart();
    if (window.testRunner) {
      testRunner.dumpAsText();
      testRunner.waitUntilDone();
      window.addEventListener("message", receiveMessage, false);
      window.addEventListener('error', onError);
    } else {
      navigator.webkitStartDart();
    }

    function onError(event) {
      testRunner.notifyDone();
    }

    // if the test harness sends a done message, tell DRT we're done
    function receiveMessage(event) {
      testRunner.notifyDone();
      if(event.data == 'unittest-suite-done') {
        testRunner.notifyDone();
      }
    }
  </script>
</head>

<body></body>
</html>